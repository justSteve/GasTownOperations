# COO Handoff - 2026-01-19

## Your Role

You are the **Chief Operating Officer of GasTown**. This Operations Center (`/root/projects/gtOps`, repo: `github.com/justSteve/GasTownOperations`) is your base. The GT instance you manage lives at `/home/gtuser/gt`.

Your mission: **Expand understanding of how Gas Town works and grow alongside it.**

---

## What We Built This Session

### 1. GT Daily Update Workflow
Established a repeatable process for syncing with upstream Gas Town:

**Slash Command**: `/gt-update` ([.claude/commands/gt-update.md](.claude/commands/gt-update.md))

**Shell Script**: [scripts/gt-sync.sh](scripts/gt-sync.sh)
```bash
./scripts/gt-sync.sh           # Full sync
./scripts/gt-sync.sh --check-only  # Just check for updates
```

**Key Paths**:
- Source repo: `/root/projects/gastown` (remotes: `origin`=justSteve, `upstream`=steveyegge)
- Binary: `/usr/local/bin/gt` (accessible to both root and gtuser)
- Managed instance: `/home/gtuser/gt`

**Today's Update**: 0.2.6 → 0.4.0 (80 commits)

### 2. GT Dashboard (`gt-dashboard.sh`)
Dual-session tmux launcher with user isolation:

**Script**: [daemon/gt-dashboard.sh](daemon/gt-dashboard.sh)
```bash
./daemon/gt-dashboard.sh          # Create sessions
./daemon/gt-dashboard.sh status   # Check status
./daemon/gt-dashboard.sh kill     # Destroy sessions
./daemon/gt-dashboard.sh attach   # Create and attach to gt-root
```

**Sessions**:
| Session | User | Styling | Windows |
|---------|------|---------|---------|
| `gt-root` | root | Red status bar, dark red bg | `main`, `dashboard` |
| `gt-user` | gtuser | Blue status bar, dark blue bg | `main`, `work` |

**Pane Layout**:
- `gt-root:main` → `root-shell`, `daemon-monitor`
- `gt-root:dashboard` → `agent-status`, `feed-watch`, `costs-watch`
- `gt-user:main` → `user-shell`, `mail-watch`
- `gt-user:work` → `agent-work`, `tests`, `scratch`

### 3. TMux Keybindings
**Config**: [daemon/gt-tmux.conf](daemon/gt-tmux.conf)

Source it: `tmux source-file /root/projects/gtOps/daemon/gt-tmux.conf`

| Key | Action |
|-----|--------|
| `Ctrl+g r` | Switch to gt-root |
| `Ctrl+g d` | Dashboard window |
| `Ctrl+g m` | Main window |
| `Ctrl+g s` | Status popup |
| `Ctrl+g a` | Agent status popup |
| `Ctrl+g ?` | Help |

---

## Key Discovery

**Dual-user tmux isolation**: Root and gtuser tmux sessions exist in separate servers. Cannot switch between them with `switch-client`. Must use:
- `tmux attach -t gt-root` (as root)
- `sudo -u gtuser tmux attach -t gt-user` (for gtuser session)

---

## Current State

### GT Dashboard
- `gt-root` session: **RUNNING** (root's tmux)
- `gt-user` session: **RUNNING** (gtuser's tmux)
- Verify: `./daemon/gt-dashboard.sh status`

### GT Town (`/home/gtuser/gt`)
- **Daemon**: Stopped (ran `gt down` before handoff)
- **Agents**: All idle
- **Pending mail**: 3 unread messages to overseer (DReader updates from Jan 16)

### Version
- GT CLI: **0.4.0** (synced with upstream today)
- Key fix in 0.4.0: Orphan cleanup skips valid tmux sessions

---

## Key Files

| Path | Purpose |
|------|---------|
| `/root/projects/gtOps/AGENTS.md` | Mission, philosophy, objectives |
| `/root/projects/gtOps/DontDoThisAgain.md` | Mistakes log |
| `/root/projects/gtOps/LearnedSomethingNewToday.md` | Discoveries log |
| `/root/projects/gtOps/daemon/gt-dashboard.sh` | Dual-session launcher |
| `/root/projects/gtOps/daemon/gt-tmux.conf` | TMux keybindings |
| `/root/projects/gtOps/daemon/tmux_controller.py` | TMux automation library |
| `/root/projects/gtOps/daemon/vscode_bridge.py` | VSCode automation |
| `/root/projects/gtOps/scripts/gt-sync.sh` | Daily GT update script |
| `/root/projects/gtOps/.claude/commands/gt-update.md` | Slash command for updates |
| `/root/.claude/plans/MergedTmuxPlan.md` | Dashboard implementation plan |

---

## Pending Work

### From Previous Session
- DReader Windows Migration: Setup script at `/home/gtuser/gt/DReader/mayor/rig/setup-windows.ps1`

### Observed Issues
- Mayor/Deacon startup timing out ("still running excluded command")
- DReader rig beads path detection issue in `gt ready`
- Some stale locks in DReader crew

### Dashboard Enhancements (from plan)
- [ ] Token burn rate graph pane
- [ ] Polecat lifecycle visualizer
- [ ] Merge queue depth indicator
- [ ] VSCode bridge integration for dashboard

---

## Working Conventions

1. **Operate, debug, report** - Your primary role is operations, not code generation
2. **Check dashboard** at start: `./daemon/gt-dashboard.sh status`
3. **Daily sync**: Run `/gt-update` or `./scripts/gt-sync.sh`
4. **Log learnings**: Update `LearnedSomethingNewToday.md`
5. **Respect user context**: Root tasks in gt-root, agent tasks in gt-user

---

## Steve's Working Style

- Prefers quick turnaround, single tests, confirm and move on
- Values transparency and shared visibility
- Explicitly assigns roles ("you are COO")
- Expects Claude to infer intent from clear action language
- Appreciates when Claude documents learnings
- Coding is secondary to operations - generate code only when explicitly building features

---

## Quick Start for Next Session

```bash
# Check dashboard status
/root/projects/gtOps/daemon/gt-dashboard.sh status

# Bring up the town
sudo -u gtuser bash -c 'cd /home/gtuser/gt && gt up'

# Check for GT updates
/root/projects/gtOps/scripts/gt-sync.sh --check-only

# Check pending work
sudo -u gtuser bash -c 'cd /home/gtuser/gt && gt status'
sudo -u gtuser bash -c 'cd /home/gtuser/gt && gt mail inbox'
```

---

*Handoff complete. Welcome, COO.*
